<!DOCTYPE html>
<html lang="de" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no, shrink-to-fit=no, interactive-widget=resizes-content">
    <meta name="theme-color" id="metaThemeColor" content="#f5f5f5">
    <meta name="theme-color" content="#1a1a2e" media="(prefers-color-scheme: dark)">
    <meta name="theme-color" content="#f5f5f5" media="(prefers-color-scheme: light)">
    <meta name="color-scheme" content="light dark">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Patientenpfade">
    <meta name="format-detection" content="telephone=no">
    <meta name="format-detection" content="email=no">
    <meta name="format-detection" content="address=no">
    <meta name="description" content="Patientenpfade Klinikum St. Georg">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta name="HandheldFriendly" content="true">
    <meta name="MobileOptimized" content="width">
    <title>Patientenpfade</title>
    <link rel="icon" type="image/png" href="img/Basislogo_farbig.png">
    <link rel="apple-touch-icon" href="img/Patientenpfade.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="app">
        <div id="navStack" data-stack="[]"></div>
        
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-top">
                <a class="sidebar-brand" id="appLogo" href="#">
                    <img src="img/Patientenpfade.png" alt="Patientenpfade">
                    <div class="header-title">
                        <span class="header-main">Patientenpfade</span>
                        <span id="moduleSubtitle" class="header-sub">Klinikum St. Georg</span>
                    </div>
                </a>
                <div class="sidebar-search">
                    <i class="fa-solid fa-magnifying-glass"></i>
                    <input type="text" id="searchInput" placeholder="Suchen..." autocomplete="off">
                    <button class="sidebar-search-clear" id="searchClear"><i class="fa-solid fa-xmark"></i></button>
                </div>
                <button class="sidebar-cat-toggle" id="sidebarCatToggle">
                    <i class="fa-solid fa-filter"></i> Kategorien
                    <i class="fa-solid fa-chevron-down toggle-icon"></i>
                </button>
                <div class="sidebar-cats" id="categoryFilters"></div>
            </div>
            <div class="sidebar-nav" id="sidebarNav">
                <ul id="navList"></ul>
            </div>
            <div class="sidebar-bottom">
                <button class="sidebar-btn" id="themeToggle">
                    <i id="themeToggleIcon" class="fa-solid fa-moon"></i>
                    <span id="themeToggleLabel">Dark Mode</span>
                </button>
                <div class="sidebar-font">
                    <i class="fa-solid fa-text-height"></i>
                    <button id="fontDecDesktop">A&minus;</button>
                    <span id="fontIndicatorDesktop">15</span>
                    <button id="fontIncDesktop">A+</button>
                </div>
            </div>
        </aside>

        <main class="main" id="mainContent">
            <header class="topbar" id="mobileHeader">
                <button class="topbar-back" id="backBtn"><i class="fa-solid fa-chevron-left"></i></button>
                <span class="topbar-title" id="mobileTitle">Patientenpfade</span>
                <div class="topbar-actions">
                    <button id="spotlightBtn" class="topbar-btn" aria-label="Suche">
                        <i class="fa-solid fa-magnifying-glass"></i>
                    </button>
                    <button id="fontDecMobile" class="topbar-btn-sm">A&minus;</button>
                    <span class="topbar-font-val" id="fontIndicatorMobile">15</span>
                    <button id="fontIncMobile" class="topbar-btn-sm">A+</button>
                    <button id="themeToggleMobile" class="topbar-btn">
                        <i id="themeToggleMobileIcon" class="fa-solid fa-moon"></i>
                    </button>
                </div>
            </header>

            <div class="offline-bar" id="offlineBanner">
                <i class="fa-solid fa-wifi-slash"></i>
                <span>Offline-Modus</span>
                <span class="offline-ts" id="offlineTimestamp"></span>
            </div>

            <div class="desk-bar" id="contentHeader">
                <div class="desk-crumbs" id="breadcrumb"></div>
                <button class="desk-toc-btn" id="desktopTocBtn" style="display:none">
                    <i class="fa-solid fa-list-ul"></i> Inhalt
                </button>
            </div>

            <div class="scroll-area" id="contentScroll">
                <div class="pull-ind" id="pullIndicator">
                    <i class="fa-solid fa-arrow-rotate-right"></i>
                </div>

                <div class="sticky-bar" id="stickySectionBar">
                    <i class="fa-solid fa-circle-info" id="stickySectionIcon"></i>
                    <span id="stickySectionTitle"></span>
                    <span class="sticky-sop" id="stickySopName"></span>
                </div>

                <div class="view-container" id="viewContainer">
                    <div class="v" id="viewPortal">
                        <div class="portal-hero">
                            <img class="portal-logo-header" src="img/Patientenpfade_header.png" alt="Patientenpfade">
                        </div>
                        <div class="portal-grid">
                            <div class="portal-card" data-module="zna">
                                <div class="portal-card-icon zna-color">
                                    <i class="fa-solid fa-kit-medical"></i>
                                </div>
                                <h3>Zentrale Notaufnahme</h3>
                                <p>SOPs und Notfallpfade der ZNA</p>
                                <span class="portal-card-badge">73 Pfade</span>
                            </div>
                            <div class="portal-card" data-module="onko">
                                <div class="portal-card-icon onko-color">
                                    <i class="fa-solid fa-ribbon"></i>
                                </div>
                                <h3>Onkologie</h3>
                                <p>Onkologische Leitlinien und Therapiepfade</p>
                                <span class="portal-card-badge">28 Pfade</span>
                            </div>
                        </div>
                    </div>

                    <div class="v" id="viewHome">
                        <div class="hero" id="heroArea"></div>
                        <div class="cat-grid" id="catGrid"></div>
                        <div class="home-info" id="homeInfo"></div>
                    </div>

                    <div class="v" id="viewBrowse"></div>

                    <div class="v" id="viewSearch">
                        <div class="search-bar">
                            <div class="search-input-wrap">
                                <i class="fa-solid fa-magnifying-glass"></i>
                                <input type="text" id="searchViewInput" placeholder="Volltextsuche..." autocomplete="off">
                                <button class="search-clear" id="searchViewClear"><i class="fa-solid fa-xmark"></i></button>
                            </div>
                        </div>
                        <div class="search-results" id="searchResultsArea"></div>
                    </div>

                    <div class="v v-sop" id="viewSOP"></div>
                </div>
            </div>

            <nav class="btm-nav fixed-bottom" id="bottomNav">
                <div class="btm-nav-inner">
                    <button class="btm-btn" data-tab="home">
                        <i class="fa-solid fa-house"></i>
                        <span class="btm-btn-label">Start</span>
                    </button>
                    <button class="btm-btn" data-tab="browse">
                        <i class="fa-solid fa-book-medical"></i>
                        <span class="btm-btn-label">Pfade</span>
                    </button>
                    <button class="btm-btn" data-tab="search">
                        <i class="fa-solid fa-magnifying-glass"></i>
                        <span class="btm-btn-label">Suche</span>
                    </button>
                </div>
            </nav>
        </main>
    </div>

    <button class="fab" id="fabAction">
        <i class="fa-solid fa-list-ul"></i>
    </button>

    <div class="spotlight-overlay" id="spotlightOverlay">
        <div class="spotlight-backdrop" id="spotlightBackdrop"></div>
        <div class="spotlight-container" id="spotlightContainer">
            <div class="spotlight-search">
                <i class="fa-solid fa-magnifying-glass spotlight-icon"></i>
                <input type="text" id="spotlightInput" placeholder="Pfad suchen..." autocomplete="off" autofocus>
                <button class="spotlight-clear" id="spotlightClear"><i class="fa-solid fa-xmark"></i></button>
            </div>
            <div class="spotlight-results" id="spotlightResults"></div>
            <div class="spotlight-footer">
                <span class="spotlight-hint"><i class="fa-solid fa-keyboard"></i> Eingabe zur Suche</span>
                <button class="spotlight-cancel" id="spotlightCancel">Abbrechen</button>
            </div>
        </div>
    </div>

    <div class="picker-overlay" id="sectionPickerOverlay">
        <div class="picker-bg" id="sectionPickerBackdrop"></div>
        <div class="picker-sheet" id="pickerSheet">
            <div class="picker-handle" id="pickerHandle"></div>
            <div class="picker-head">
                <h3>Inhalt</h3>
                <button id="sectionPickerClose"><i class="fa-solid fa-xmark"></i></button>
            </div>
            <ul class="picker-list" id="sectionPickerList"></ul>
            <div class="picker-foot">
                <button id="sectionPickerPrint"><i class="fa-solid fa-print"></i> Drucken</button>
            </div>
        </div>
    </div>

    <div class="skeleton-overlay" id="skeletonOverlay">
        <div class="skeleton-sop">
            <div class="skeleton-header">
                <div class="skeleton skeleton-badge"></div>
                <div class="skeleton skeleton-title"></div>
                <div class="skeleton skeleton-meta"></div>
            </div>
            <div class="skeleton-segmented">
                <div class="skeleton skeleton-segment"></div>
                <div class="skeleton skeleton-segment"></div>
                <div class="skeleton skeleton-segment"></div>
                <div class="skeleton skeleton-segment"></div>
            </div>
            <div class="skeleton-content">
                <div class="skeleton skeleton-card"></div>
                <div class="skeleton skeleton-card"></div>
                <div class="skeleton skeleton-card"></div>
            </div>
        </div>
    </div>

    <script src="pfade/zna/abdominelle-schmerzen.js"></script>
    <script src="pfade/zna/aecopd.js"></script>
    <script src="pfade/zna/akute-alkoholintoxikation.js"></script>
    <script src="pfade/zna/akute-divertikulitis.js"></script>
    <script src="pfade/zna/akute-gastroenteritis.js"></script>
    <script src="pfade/zna/akute-herzinsuffizienz.js"></script>
    <script src="pfade/zna/akute-intoxikation.js"></script>
    <script src="pfade/zna/akute-mesenterialischaemie.js"></script>
    <script src="pfade/zna/akute-nebenniereninsuffizienz.js"></script>
    <script src="pfade/zna/akute-nierenschaedigung.js"></script>
    <script src="pfade/zna/akute-pankreatitis.js"></script>
    <script src="pfade/zna/akuter-gichtanfall.js"></script>
    <script src="pfade/zna/akuter-harnverhalt.js"></script>
    <script src="pfade/zna/akutes-aortensyndrom.js"></script>
    <script src="pfade/zna/anaemie.js"></script>
    <script src="pfade/zna/anaphylaxie.js"></script>
    <script src="pfade/zna/asthmaexazerbation.js"></script>
    <script src="pfade/zna/bakterielle-meningitis.js"></script>
    <script src="pfade/zna/bradykarde-hrst.js"></script>
    <script src="pfade/zna/cannabinoid-hyperemesis-syndrom.js"></script>
    <script src="pfade/zna/delir.js"></script>
    <script src="pfade/zna/diabetische-ketoazidose.js"></script>
    <script src="pfade/zna/dyspnoe.js"></script>
    <script src="pfade/zna/erbrechen.js"></script>
    <script src="pfade/zna/erysipel.js"></script>
    <script src="pfade/zna/fieber-in-der-neutropenie.js"></script>
    <script src="pfade/zna/fremdkoerperingestion.js"></script>
    <script src="pfade/zna/harnwegsinfektion.js"></script>
    <script src="pfade/zna/heparininduzierte-thrombozytopenie.js"></script>
    <script src="pfade/zna/hepatische-enzephalopathie.js"></script>
    <script src="pfade/zna/herz-kreislauf-stillstand.js"></script>
    <script src="pfade/zna/hitzschlag.js"></script>
    <script src="pfade/zna/hyperkaliaemie.js"></script>
    <script src="pfade/zna/hyperkalzaemie.js"></script>
    <script src="pfade/zna/hypernatriaemie.js"></script>
    <script src="pfade/zna/hyperosmolares-hyperglykaemisches-syndrom.js"></script>
    <script src="pfade/zna/hypertensiver-notfall.js"></script>
    <script src="pfade/zna/hypoglykaemie.js"></script>
    <script src="pfade/zna/hypokaliaemie.js"></script>
    <script src="pfade/zna/hypokalzaemie.js"></script>
    <script src="pfade/zna/hyponatriaemie.js"></script>
    <script src="pfade/zna/ikterus.js"></script>
    <script src="pfade/zna/kohlenmonoxidintoxikation.js"></script>
    <script src="pfade/zna/kopfschmerzen.js"></script>
    <script src="pfade/zna/lungenarterienembolie.js"></script>
    <script src="pfade/zna/myxoedemkoma.js"></script>
    <script src="pfade/zna/nicht-st-hebungsinfarkt.js"></script>
    <script src="pfade/zna/nierenkolik.js"></script>
    <script src="pfade/zna/obere-gastrointestinale-blutung.js"></script>
    <script src="pfade/zna/oesophageale-bolusimpaktion.js"></script>
    <script src="pfade/zna/pleuraerguss.js"></script>
    <script src="pfade/zna/pneumonie.js"></script>
    <script src="pfade/zna/schock.js"></script>
    <script src="pfade/zna/sepsis.js"></script>
    <script src="pfade/zna/spontan-bakterielle-peritonitis.js"></script>
    <script src="pfade/zna/status-epilepticus.js"></script>
    <script src="pfade/zna/sterbephase-palliativ.js"></script>
    <script src="pfade/zna/st-hebungsinfarkt.js"></script>
    <script src="pfade/zna/stromunfall.js"></script>
    <script src="pfade/zna/synkope.js"></script>
    <script src="pfade/zna/tachykarde-hrst.js"></script>
    <script src="pfade/zna/thoraxschmerzen.js"></script>
    <script src="pfade/zna/thrombozytopenie.js"></script>
    <script src="pfade/zna/tiefe-venenthrombose.js"></script>
    <script src="pfade/zna/tonsillitis.js"></script>
    <script src="pfade/zna/transiente-globale-amnesie.js"></script>
    <script src="pfade/zna/tumorlysesyndrom.js"></script>
    <script src="pfade/zna/unklare-vigilanzminderung.js"></script>
    <script src="pfade/zna/untere-gastrointestinale-blutung.js"></script>
    <script src="pfade/zna/vena-cava-superior-syndrom.js"></script>
    <script src="pfade/zna/vorhofflimmern.js"></script>
    <script src="pfade/zna/zerebrale-metastasen.js"></script>
    <script src="pfade/zna/zerebrale-venen-sinusthrombose.js"></script>

    <!-- Onkologische SOPs -->
    <script src="pfade/onko/adulte-weichgewebesarkome.js"></script>
    <script src="pfade/onko/analkarzinom.js"></script>
    <script src="pfade/onko/biliaere-karzinome.js"></script>
    <script src="pfade/onko/cll.js"></script>
    <script src="pfade/onko/dlbcl.js"></script>
    <script src="pfade/onko/endometriumkarzinom.js"></script>
    <script src="pfade/onko/follikulaeres-lymphom.js"></script>
    <script src="pfade/onko/harnblasenkarzinom.js"></script>
    <script src="pfade/onko/hcc-karzinom.js"></script>
    <script src="pfade/onko/hodentumoren.js"></script>
    <script src="pfade/onko/hodgkin-lymphom.js"></script>
    <script src="pfade/onko/kolorektales-karzinom.js"></script>
    <script src="pfade/onko/larynxkarzinom.js"></script>
    <script src="pfade/onko/lungenkarzinom.js"></script>
    <script src="pfade/onko/magenkarzinom.js"></script>
    <script src="pfade/onko/mammakarzinom.js"></script>
    <script src="pfade/onko/mundhoehlenkarzinom.js"></script>
    <script src="pfade/onko/multiples-myelom.js"></script>
    <script src="pfade/onko/nierenzellkarzinom.js"></script>
    <script src="pfade/onko/oesophaguskarzinom.js"></script>
    <script src="pfade/onko/oro-hypopharynxkarzinom.js"></script>
    <script src="pfade/onko/ovarialkarzinom.js"></script>
    <script src="pfade/onko/pankreaskarzinom.js"></script>
    <script src="pfade/onko/peniskarzinom.js"></script>
    <script src="pfade/onko/prostatakarzinom.js"></script>
    <script src="pfade/onko/schilddruesenkarzinom.js"></script>
    <script src="pfade/onko/speicheldruesentumoren.js"></script>
    <script src="pfade/onko/zervixkarzinom.js"></script>

    <script src="app.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.getRegistrations().then(function(registrations) {
                for (var i = 0; i < registrations.length; i++) {
                    registrations[i].unregister();
                }
            });
        }
        if ('caches' in window) {
            caches.keys().then(function(names) {
                for (var j = 0; j < names.length; j++) {
                    caches.delete(names[j]);
                }
            });
        }
    </script>
</body>
</html>